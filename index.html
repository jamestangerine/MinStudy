<!DOCTYPE html>
<html lang="en">
    <head>
        <title>MinStudy</title>
        <link rel="manifest" href="manifest.webmanifest">
        <link rel="icon" href="data:,">
        <link rel="stylesheet" href="site.css">
    </head>
    <body>
        <h1>Minimal Studier</h1>
        <p>Enter a study list.</p>
        <textarea id="input" rows="8" cols="50" placeholder="term&#9;definition&#10;term&#9;definition&#10;term&#9;definition&#10;..."></textarea>
        <br><p>Coding Separators:</p>
        <table>
            <tr>
                <td>Term-Def: <textarea id="term-def" rows="1" cols="5" placeholder="\t"></textarea></td>
                <td style="padding-left:2em">Entry: <textarea id="entry" rows="1" cols="5" placeholder="\n"></textarea></td>
            </tr>
        </table>
        <br>
        <button id="start">Begin Studying</button>
    </body>
    <script type="module">
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("sw.js");
        }
        const input = document.getElementById("input");
        const termDef = document.getElementById("term-def");
        const entry = document.getElementById("entry");
        import Module from "./prog.js";
        Module().then((mod) => {
            function startClick() {
                const studyDat = input.value.split((entry.value.length > 0 ? entry.value : "\n")).map(e => e.split((termDef.value.length > 0 ? termDef.value : "\t")));
                console.log(studyDat);
            }
        });
        document.getElementById("start").addEventListener("click", startClick);
    </script>
</html>